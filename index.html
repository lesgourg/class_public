<?php
	define('SALT', 'class');

	function encrypt($text)
	{
		return trim(base64_encode($text));
	}

	function decrypt($text)
	{
		return trim(base64_decode($text));
	}


	if (isset($_COOKIE["classemail"])) {
		$hasmail=TRUE;
		$themail=decrypt($_COOKIE["classemail"]);
		$keepinformed=$_COOKIE["keepinformed"];
	} else {
		$hasmail=FALSE;
		$themail="";
		$keepinformed=0;
	}
?>

<html>
<head>
<title>CLASS Home Page</title>
<link rel="shortcut icon" href="class.ico">
<style type="text/css">
   <!--
   BODY {
      background-color: #191919;
      color: #FFFFE0;
      font-family:sans-serif}
      a  {color: #ff7f00}
      .nounderline a {text-decoration:none}
      tt {color: #d2b48c;font-size: 120%}
      -->
    </style>
<!-- scrippled type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22769456-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script -->
<!-- validation checks -->
		  <script language="JavaScript" type="text/javascript">


		  //function to check valid email address
		  function isValidEmail(strEmail){
			  validRegExp = /^[^@]+@[^@]+.[a-z]{2,}$/i;
			  strEmail = document.forms[0].emailaddress.value;

			  // search email text for regular exp matches
			  if (strEmail.search(validRegExp) == -1)
			  {
				  alert('A valid e-mail address is required.\nPlease retry');
				  return false;
			  }
			  return true;
		  }


		  //function that performs all functions, defined in the onsubmit event handler

		  function check(form){
			  if (isValidEmail(form.emailaddress)){
				  return true;
			  }
			  return false;
		  }

		  </script>


</head>

<body>

<br>

<table width="100%" align=center>
<tr>
<td align=center>
<img src="vinrond_orange.gif">
</td>
<td>

<hr color=#FF7f00>
<h1 align=center>C L A S S</h1>
<h4 align=center>
<tt>
the
Cosmic
Linear
Anisotropy
Solving
System
</tt>
</h4>
<hr color=#FF7f00>
<td>
<td align=center>
<img src="gandrond_orange.gif">
</td>
</tr>
</table>

<img src="v50.gif">

<table>
<td align="middle" valign="top" width="25%">
<DIV CLASS="nounderline">
<table>
  <tr><td><hr color=#d2b48c></td></tr>
	  <tr><td bgcolor="black">
	<a href="class.html#download">
	&gt;&nbsp;Download
	</a>
	  </td></tr>
	  <tr><td bgcolor="black">

	<a href="class.html#documentation">
&gt;&nbsp;Documentation
	</a>
	  </td></tr>
	  <tr><td bgcolor="black">
	  <a href="class.html#papers">
	  &gt;&nbsp;Papers
	</a>
	  </td></tr>
	  <tr><td bgcolor="black">
	<a href="class.html#versions">
	  &gt;&nbsp;Versions
	  </a>
	  </td></tr>
	  <tr><td bgcolor="black">
	<a href="class.html#contact">
	&gt;&nbsp;Support
	</a>
	  </td></tr>
  <tr><td><hr color=#d2b48c></td></tr>
</table>
</div>
</td>
<td align="left" valign="top" width="50%">
  The purpose of CLASS is to simulate the evolution of linear perturbations in the universe and to compute CMB and large scale structure observables. CLASS also embeds several ways to compute non-linear corrections to linear perturbation theory. CLASS is written mainly in plain C, but with an original object-oriented style mimicking the notion of class. Since v3.2.3, some modules are actually compiled as C++, to handle the parallelisation of loops in the C++ way. The whole code is wrapped in the python module <tt>classy</tt>.
  <p>
  We hope that you will enjoy the use of CLASS,<br>
  <p>
  <p align="center"> Julien Lesgourgues, Nils Sch&ouml;neberg, Thomas Tram </p>

  <!--Its name also comes from the fact that it is written in object-oriented style mimicking the notion of class. Classes are a wonderfull programming feature available e.g. in C++ and python, but these languages are known to be less vectorizable/parallelizable than plain C (or Fortran), and hence potentially slower. For CLASS we choose to use plain C for high performances, while organizing the code in a few modules that reproduce the architecture and philosophy of C++ classes, for optimal readability and modularity.-->
<p>
<h2><a name="download">Download</a></h2>
<p>
The use of CLASS is free provided that when you use it in a publication, you cite at least the paper <a href="http://arxiv.org/abs/1104.2933">CLASS II: Approximation schemes</a> (reference below). You are welcome to cite any other CLASS paper if relevant!
<p>
  There are three ways to get to use CLASS. If you only want to use it through its python wrapper <tt>classy</tt> and not modify it, just install it as a python module with <tt>pip install classy</tt>. If you want to see the code and/or modify it just for yourself, download a tar.gz archive of the latest released (master branch) version, v3.3.3, by clicking <a href="class_public-3.3.3.tar.gz" download="class_public-3.3.3.tar.gz">class_public-3.3.3.tar.gz</a>. But if you are familiar with <tt>git</tt> repositories, and you wish to develop a new branch of the code, or see all public branches and/or old versions, you will prefer to clone it from the <a href="https://github.com/lesgourg/class_public" target="_blank">class_public</a> git repository.
<br>
<hr color=#d2b48c>
<h2><a name="documentation">Documentation</a></h2>

After downloading the code, unpack the archive (<tt>tar -zxvf
class_public-vx.y.z.tar.gz</tt>), go to the class directory (<tt>cd
  class_public-vx.y.z/</tt>) and compile. Several details on the CLASS compilation are given on the <a
href="https://github.com/lesgourg/class_public/wiki/Installation"
target="_blank"> installation wiki page</a>. In a nutshell:

<p>

<li> If you are only interested in running CLASS through its python wrapper <tt>classy</tt>,
install it with <tt>pip install .</tt> (since v3.3.0; before you had to execute <tt>make clean; make -j all</tt>).
To check that things work, you may run any of our demo python scripts located in <tt>scripts/</tt> (e.g. <tt>python scripts/warmup.py</tt>), or any of the equivalent jupyter notebooks located in <tt>notebooks/</tt>.

<p>

<li> If instead you are interested in compiling the C code and running in a terminal, execute <tt>make clean; make -j class</tt>.
To check that the code runs, type: <tt>./class explanatory.ini</tt>
The <tt>explanatory.ini</tt> file is a reference input file,
containing and explaning the use of all possible input parameters. We
recommend to read it, to keep it unchanged (for future reference), and
to create for your own purposes some shorter input files, containing
only the input lines which are useful for you. Input files must have a
<tt>*.ini</tt> extension.
If you want to play with the precision/speed of the code, you can use
one of the provided precision files (e.g. <tt>cl_permille.pre</tt>) or
modify one of them, and run with two input files (e.g. <tt>./class
test.ini cl_permille.pre</tt>).

<p>

For more details, view
our <a href="class_public-3.3.0/doc/manual/html/index.html">online
html documentation</a> generated by doxygen (credits D.C.
Hooper). Other CLASS papers dedicated to various aspects of the code
are listed <a href="class.html#papers">below</a>. You can also look
at <a href="https://lesgourg.github.io/courses.html"
target="_blank"> slides from CLASS-dedicated courses</a>.

<p>

To use CLASS from python, or ipython notebooks, or from the Monte
Python parameter extraction code, you need to compile not only the
code, but also its python wrapper. This can be done by typing just
<tt>make</tt> instead of <tt>make class</tt>. More details on the
wrapper and its compilation are found on the <a
href="https://github.com/lesgourg/class_public/wiki" target="_blank">wiki
page</a>.

<p>

Since version 2.3, the package includes an improved plotting script
called <tt>CPU.py</tt> (Class Plotting Utility), written by Benjamin
Audren and Jesus Torrado. It can plot the Cl&apos;s, the P(k) or any other
CLASS puput, for one or several models, as well as their ratio or
percentage difference. The syntax and list of available options is
obtained by typing <tt>pyhton CPU.py --help</tt>. There is a similar
script for MATLAB, written by Thomas Tram. To use it, once in MATLAB,
type <tt>help plot_CLASS_output.m</tt>

<p>

If you want to develop the code, we
suggest that you download it from the <a
href="https://github.com/lesgourg/class_public" target="_blank"> github
webpage</a> rather than from class-code.net. Then you will enjoy all
the feature of git repositories. You can even develop your own branch
and get it merged to the public distribution, following the <a
href="https://github.com/lesgourg/class_public/wiki/Public-Contributing"
target="_blank"> public contributing instructions</a>.

<hr color=#d2b48c>
<h2><a name="papers">Papers</a></h2>
<ul>
  <li>CLASS I: Overview,
    by J. Lesgourgues,
    <a href="http://arxiv.org/abs/1104.2932" target="_blank">arXiv:1104.2932 [astro-ph.IM]</a>
  <li>CLASS II: Approximation schemes,
    by D. Blas, J. Lesgourgues, T. Tram,
    <a href="http://arxiv.org/abs/1104.2933" target="_blank">JCAP 1107 (2011) 034</a>
  <li>CLASS III: Comparison with CAMB for LambdaCDM,
    by J. Lesgourgues,
    <a href="http://arxiv.org/abs/1104.2934" target="_blank">arXiv:1104.2934 [astro-ph.CO]</a>
  <li>CLASS IV: Efficient implementation of non-cold relics,
    by J. Lesgourgues, T. Tram,
    <a href="http://arxiv.org/abs/1104.2935" target="_blank">JCAP 1109 (2011) 032</a>
  <!--
  <li>Efficient computation of the non-linear matter power spectrum of LambdaCDM,
    by B. Audren, J. Lesgourgues,
    <a href="http://arxiv.org/abs/1106.2607" target="_blank">arXiv:1106.2607 [astro-ph.CO]</a>,
    JCAP 1110 (2011) 037
  -->
  <li>Optimal polarisation equations in FLRW universes,
    by Thomas Tram, Julien Lesgourgues,
    <a href="http://arxiv.org/abs/1305.3261" target="_blank">JCAP 1310 (2013) 002 </a>
  <li>Fast and accurate CMB computations in non-flat FLRW universes,
    by Julien Lesgourgues, Thomas Tram,
    <a href="http://iopscience.iop.org/1475-7516/2014/09/032/pdf/jcap092014032.pdf" target="_blank">JCAP 09 (2014) 032</a>
  <li>The CLASSgal code for Relativistic Cosmological Large Scale Structure,
    by E. Di Dio, F. Montanari, J. Lesgourgues and R. Durrer,
    <a href="http://arXiv.org/abs/arXiv:1307.1459" target="_blank">JCAP 1311 (2013) 044</a>
  <li>Exotic energy injection with ExoCLASS: Application to the Higgs portal model and evaporating black holes,
    by P. St&ouml;cker, M. Kr&auml;mer, J. Lesgourgues and V. Poulin,
    <a href="https://arxiv.org/abs/1801.01871" target="_blank">JCAP 03 (2018) 018</a>
  <li>Beyond the traditional Line-of-Sight approach of cosmological angular statistics,
    by Nils Sch&ouml;neberg, Marko SimonoviÄ‡, Julien Lesgourgues and Matias Zaldarriaga,
    <a href="https://arxiv.org/abs/1807.09540" target="_blank">JCAP 10 (2018) 047</a>
  <li>The synergy between CMB spectral distortions and anisotropies,
    by Matteo Lucca, Nils Sch&ouml;neberg, Deanna C. Hooper, Julien Lesgourgues, Jens Chluba,
    <a href="https://arxiv.org/abs/1910.04619" target="_blank">JCAP 02 (2020) 026</a>
  <li>Optimal Boltzmann hierarchies with nonvanishing spatial curvature,
    by Cyril Pitrou, Thiago S. Pereira, Julien Lesgourgues,
    <a href="https://arxiv.org/abs/2005.12119" target="_blank">Phys.Rev.D 102 (2020) 2, 023511</a>
  <li>GW_CLASS: Cosmological Gravitational Wave Background in the cosmic linear anisotropy solving system,
    by F. Schulze, L. Valbusa Dall'Armi, J. Lesgourgues, A. Ricciardone, N. Bartolo, D. Bertacca, C. Fidler and S. Matarrese
    <a href="https://arxiv.org/abs/2305.01602" target="_blank">JCAP 10 (2023) 025</a>
<h2><a name="versions">Version history</a></h2>

The developement of CLASS benefits from various
essential contributors credited below. In absence of specific credits,
developements are written by the main CLASS authors: Julien
Lesgourgues, Thomas Tram, and since 2018, Nils Sch&ouml;neberg.  <p>

In case you are interested in downloading an old version, go to the
<a href="https://github.com/lesgourg/class_public" target="_blank">class_public</a> page. Close to the branch name (by default <em>master</em>) you can click on <em>branches</em> or <em>tags</em>. Click <em>tags</em> and you&apos;ll get access to <tt>zip</tt> or <tt>tar.gz</tt> archives of each previous minor release <tt>vx.y.z</tt>.
<p>

  <table>
    <tr>
      <td valign=top>v3.3&nbsp;(17.02.2025)</td>
      <td>
        <ul>
          <li> Default version of HMcode now set to HMcode 2020. See the related input parameters in <tt>explanatory.ini</tt>, section on non-linear parameters, point 1.b).
          <li> The <tt>fourier.c</tt> module has been restructured. Halofit and HMcode are now external modules located in the <tt>external/</tt> directory.
          <li> New input flags <tt>'numerical_nowiggle'</tt> and <tt>'analytic_nowiggle'</tt>. See <tt>explanatory.ini</tt>, section on non-linear parameters, point 2). The flags enforce the calculation of the linear no-wiggle power spectrum, computed either numerically (by filtering the linear power spectrum with a smoothing algorithm) or analytically (with the no-wiggle fitting function of Eisenstein and Hu). In terminal runs, they get written in output files. In python runs, they can be retrieved with the <tt>classy</tt> functions <tt>.pk_numerical_nw()</tt> and <tt>.pk_analytical_nw()</tt>.
          <li> Modernized compilation file <tt>setup.py</tt>, compatible with <tt>pipy</tt>. You may install the python wrapper by just typing <tt>pip install .</tt> in the CLASS directory. The old <tt>make -j class</tt> still works for compiling the C code. Note that <tt>make -j</tt> still installs the python wrapper, but we recommend switching to <tt>pip install .</tt> in the long term.
          <li> Added two accurate BBN interpolation tables to infer the primordial helium fraction: <tt>external/bbn/sBBN.dat</tt> (from <a href='https://parthenope.na.infn.it'>Parthenope v3.0.0</a>) and <tt>external/bbn/sBBN_primat.dat</tt> (from <a href='http://www2.iap.fr/users/pitrou/primat.htm'>PRIMAT</a> version of the 20/09/2024). The former is used as default. Other choices can be adjusted by setting <tt>'YHe'</tt> to <tt>'BBN'</tt> and passing the relevant file name through the precision parameter <tt>'sBBN_file'</tt>.
          <li> Solved a parallelisation issue: the code was becoming very slow for non-flat models when running on many cores (hundred or more).
          <li> Correction of a small mistake in the spline integration formula in <tt>tools/arrays.c</tt>, leading to tiny inaccuracies - especially in sigma(R) and P_NL(k), and to a lesser extent in thermodynamics calculations (credits: C. Radermacher)
          <li> Correction in the tight-coupling approximation for tensor perturbations, to avoid 0.25% error on tensor Cls (credits: C. Pitrou)
          <li> New flag <tt>'get_perturbations_in_current_gauge'</tt>, to avoid a systematic conversion of perturbations to the Newtonian gauge when setting <tt>'k_output_values'</tt> and using <tt>.get_perturbations()</tt> (see <tt>explanatory.ini</tt>, section on general parameters, point 4.d)
          <li> 25.06.2025 (<tt>v3.3.1</tt>): fixed bug introduced in v3.0, leading to random (but very rare) segmentation fault when running with <tt>'tau_reio'</tt> as input parameter (thanks to Martin White for pointing out); corrected the initial conditions for the IDM-g temperature (thanks to Maria Archidiacono for pointing out); fixed bug in classy function <tt>scale_dependent_growth_factor_f_cb()</tt>, and added classy functions <tt>scale_dependent_growth_factor_D()</tt> and <tt>scale_dependent_growth_factor_D_cb()</tt>; added the python build requirements in a <tt>pyproject.toml</tt> file (thanks to Sefa Pamuk for pointing out)
          <li> 27.08.2025 (<tt>v3.3.2</tt>): improved style and documentation in classy. All classy functions now described by a docstring. Homogenised style for all <tt>classy</tt> functions that return a single number. Better description of input strings like <tt>'output'</tt> or <tt>'T_ncdm'</tt> in <t>explanatory.ini</tt>. Improved details in all the python scripts and notebooks, avoiding calls to obsolete <tt>classy</tt> functions. Changed the way in which the python module is installed: <tt>classy.so</tt> is now only a partial module, while <tt>classy</tt> is an actual python module (with possibility of editable installation, thanks to Jesus Torrado for requesting this).
          <li> 24.09.2025 (<tt>v3.3.3</tt>): fixed typo in classy function name <tt>sigma8()</tt> introduced in v3.3.2 (thanks to Simeon Bird for pointing out); restored version introspection <tt>class.__version__</tt> (credits J. Torrado).
        </ul>
      </td>
    </tr>
    <tr>
      <td valign=top>v3.2&nbsp;(29.03.2022)</td>
      <td>
        <ul>
          <li> Implementation of multi-interacting dark matter (<tt>idm</tt>) as described in <a href="https://arxiv.org/abs/2010.04074" target="_blank">2010.04074</a>. The <tt>idm</tt> species may interact not only with dark radiation following the ETHOS formalism (a feature already introduced in v2.9), but also with photons and baryons, with the possibility to have 1, 2 or 3 interaction channels at the same time. For a description of new functionalities, search for <tt>idm</tt> in <tt>explanatory.ini</tt> (credits: N. Becker, D. C. Hooper, N. Sch&ouml;neberg)
          <li> This release also features minor typo and bug fixes, as well as a systematic correction of the indentation of the C files (credits: D. C. Hooper)
          <li> 10.10.2023 (<tt>v3.2.1</tt>): in the python wrapper classy, new function <tt>scale_dependent_growth_factor()</tt>, and fixes in <tt>get_pk_all()</tt>; in input, new parameter names <tt>ln10^10A_s, 100*theta_s, 100*theta_star, S8</tt>; increased default precision of background module; fixed compatibility issue with cython 3; minor bug fixes (credits: J. Ange, B. Bolliet, S. Guenther, L. Honorez-Lopez, M. Lucca, F. McCarty, C. Pitrou, J. Torrado - and as usual JL, NS, TT)
          <li> 3.02.2024 (<tt>v3.2.2</tt>): the calculation of the CMB lensing potential power spectrum has been made considerably more accurate and efficient at large l (and has also been improved at low l in the non-Limber range). One can now obtain very accurate lensed CMB Cl's at very large l values (e.g. 6000 or more) without any slow-down of the code. The Limber approximation is still used below <tt>l_switch_limber</tt>, set by default to 10. The new calculation, called <tt>full_limber</tt> inside the code, is toggled by an input flag <tt>want_lcmb_full_limber</tt> set by default to <tt>yes</tt>. Users interested in the details of this feature can read the comments in <tt>input/precision.h</tt> regarding the new precision parameters <tt>perturbations_sampling_boost_above_age_fraction</tt>, <tt>q_logstep_limber</tt>, <tt>k_max_limber_over_l_max_scalars</tt>, and the modified precision parameter <tt>k_max_tau0_over_l_max</tt>. Thanks to B. Bolliet for his precious help on these features. Also, in <tt>classy</tt>, enhanced interpolation features in <tt>get_pk_all()</tt>: the log of P(k) can be interpolated with either a linear or cubic (default) algorithm.
          <li> 20.02.2024 (<tt>v3.2.3</tt>): improvement in compilation method. CLASS is now pip installable with <tt>pip install classy</tt>. For the C code compilation, OpenMP is no longer required. Even if the code is still written in plain C, the few modules using parallelisation will now get compiled with the C++ compiler found on your machine (for instance, GNU g++ or clang), which has some in-built parallelisation syntax. To allow for this, some macros have been adapted, and the few lines with OpenMP parallelisation syntax have been changed to match C++ parallelisation syntax. (credits: N. Sch&ouml;neberg)
          <li> 30.09.2024 (<tt>v3.2.4</tt>): new classy function <tt>set_baseline</tt> to set up quickly some baseline parameters: e.g. <tt>.set_baseline('planck18_lens_bao')</tt>. Added <tt>Neff</tt> (not <tt>N_eff</tt>) as a new input parameter with shooting, representing the request for a given total effective neutrino number (rather than just an effective number of ultra-relativistic relics <tt>N_ur</tt>). Fixed numpy compilation issue and minor bugs. (credits: N. Sch&ouml;neberg)
          <li> 4.10.2024 (<tt>v3.2.5</tt>): made RealSpaceInterface work again, see <tt>external/RealSpaceInterface/README</tt> for instructions (credits Timothy Morton and Mowen Zhao). Fixed bug introduced in 3.2.4 affecting shooting convergence.
        </ul>
      </td>
    </tr>
    <tr>
      <td valign=top>v3.1&nbsp;(30.09.2021)</td>
      <td>
        <ul>
          <li> Implementation of varying fundamental constants alpha (fine structure constant) and me (effective electron mass). This feature already existed in HyRec2020; we implemented it also in RecFastCLASS and in the CLASS wrapper of the two recombination codes (credits N. Sch&ouml;neberg). The physics is described e.g. in Hart and Chluba <a href="https://arxiv.org/abs/1705.03925" target="_blank">1705.03925</a>. For a description of input parameters and functionalities, search <tt>varying_fundamental_constants</tt> in <tt>explanatory.ini</tt>.
          <li> Minor updates in Hyrec2020 (credits N. Lee) and several minor bug fixes.
          <li> 7.12.2021 (<tt>v3.1.1</tt>): instead of <tt>Omega_cdm</tt> or <tt>omega_cdm</tt>, user can pass in input <tt>Omega_m</tt> or <tt>omega_m</tt>: the code will adjust automatically the CDM abundance, taking into account all other non-relativistic abundances; also, added new functions <tt>perturbations_at_z()</tt> and <tt>perturbations_at_k_and_z()</tt>, and fixed several minor typos and bugs (credits: N. Sch&ouml;neberg, Fereshteh Majidi)
          <li> 22.02.2022 (<tt>v3.1.2</tt>): in the python wrapper classy, several new functions: <tt>Om_b(z), Om_cdm(z), Om_ncdm(z), angular_distance_from_to(), scale_independent_f_sigma8(), effective_f_sigma8(), effective_f_sigma8_spline(), get_transfer_and_k_and_z(), get_Weyl_pk_and_k_and_z()</tt>; behavior of <tt>sigma()</tt> and <tt>get_pk_and_k_and_z()</tt> improved; fixed a bug concerning the maximum value k_max used for P(k) calculations and output.
          <li> 24.03.2022 (<tt>v3.1.3</tt>): made the shooting method much more efficient for <tt>sigma8</tt>; fixed a bug affecting Decaying Dark Matter results since v2.10.1, detected by Jozef Bucko; fixed a memory leak in <tt>get_transfer_and_k_and_z()</tt> (credits: N. Sch&ouml;neberg)
        </ul>
      </td>
    </tr>
    <tr>
      <td valign=top>v3.0&nbsp;(12.03.2021)</td>
      <td>
        <ul>
          <li> Several major improvements detailed below in the description of v2.10. Most important: new module calculating CMB spectral distortions, and implementation of various models for energy injection relevant for both anisotropies and distortions (see <a href="https://arxiv.org/abs/1910.04619" target="_blank">1910.04619</a>); recombination calculated by default with HyRec2020 (see <a href="https://arxiv.org/abs/2007.14114" target="_blank">2007.14114</a>) or optionally with an improved RecFastCLASS; background and thermodynamics equations integrated with the same ODE solvers as perturbation equations, by default the implicit <tt>ndf15</tt> solver; improved structure and style of <tt>input</tt>, <tt>background</tt> and <tt>thermodynamics</tt> modules (credits D.C. Hooper, N. Lee, D. Meinert, and particularly N. Schoeneberg, M. Lucca)
          <li> Two modules renamed in order to better reflect their physical role: <tt>nonlinear</tt> renamed as <tt>fourier</tt> (calculation of observables in Fourier space: P(k,z), delta_i(k,z), etc.), and <tt>spectra</tt> renamed as <tt>harmonic</tt> (calculation of observables in harmonic space: C_l&apos;s). Also, for each module, the name of the main structure and the prefix now matches exactly the module name. The renaming task is done automatically by a script <tt>CLASS_rename.py</tt> distributed with the code, that may transform any CLASS version forward and backward.
          <li> These are the biggest changes ever in a release, and we care about our users who wish to propagate these changes smoothly through their own modified version! Thus we provide many incremental revisions of the <tt>master</tt> branch, tagged as 2.10.0 to 2.10.8 (see below). Once your branch is up-to-date (merged) with 2.9.4, merge it step-by-step with 2.10.0, then 2.10.1, then 2.10.2, etc., up to 2.10.8. Each step will update only one of the new modules, plus its ancillary files for consistency. In this way, potential conflicts should remain tractable. Importantly, <em>after each step</em>, you should check whether your code still compilables (and possibly fix issues until it does). Once you have merged with 2.10.8 and your code compiles and runs, type <tt>python CLASS_rename.py --method rename</tt>, and you will be up-to-date with 3.0.0!
          <li> 19.03.2021 (<tt>v3.0.1</tt>): Updates to match online version of HyRec-2 (effective rate table was extended for the case Tm>Tr, update for varying constants).
          <li> 8.09.2021 (<tt>v3.0.2</tt>): Minor fixes: issues of indentation, memory leaks (in HyRec-2, shooting, ncdm), bugs when having only tensors, three names changed erroneously by the automatic renaming script (<tt>nonlinear_method, nonlinear_scale, nonlinear_min_k_max</tt>). Restored input parameters <tt>DM_annihilation_fraction</tt> and function <tt>distortions_read_detector_noisefile()</tt>. Increased default value of precision parameter <tt>nonlinear_min_k_max</tt>, and improved the scripts for the continuous integration workflow.
        </ul>
      </td>
    </tr>
    <tr>
      <td valign=top>v2.10&nbsp;(12.03.2021)</td>
      <td>
        <ul>
          <li> This version, whose tags are available on the <a href="https://github.com/lesgourg/class_public" target="_blank">class_public</a> git repository, are only meant to introduce the changes from 2.9.4 to 3.0.0 in a smooth, step-by-step way. By merging your branch successively with each of the tagged versions 2.10.0 to 2.10.8, you will keep potential conflicts under control. The description of each tagged version is useful to understand the main differences between v2.9.4 and v3.0.0.
          <li> v2.10.0: Technical preparation for the next steps. Small update of several files and algorithms in the <tt>tools/</tt> directory (including new functionalities for splining, interpolating, parsing). Also, the files relevant for BBN calculations, for the <tt>external_Pk</tt> option and for the <tt>RealSpaceInterface</tt> are moved to a new directory <tt>external/</tt>
          <li> v2.10.1: Input module entirely re-organised, with distinct functions parsing different categories of input parameters. New comprehensive input file <tt>explanatory.ini</tt> reflecting the new structure. Default cosmological parameter values set to a LambdaCDM model with massless neutrinos that is the closest possible to the Planck 2018 best-fit with m_nu=0.06eV (the new CLASS default model has the same peak scale).
          <li> v2.10.2: Restructured background module. The differential equations are integrated over log(a) instead of conformal time. They are handled exactly in the same way (with the same generic functions, the same syntax, the same ODE solvers) as the perturbation equations. By default they get integrated with the implicit solver <tt>ndf15</tt>. This allows to implement extended cosmologies with stiff background equations, like e.g. in <a href="https://arxiv.org/abs/2008.08486" target="_blank">2008.08486</a>.
          <li> v2.10.3: Fully rewritten and restructured thermodynamics module. Recombination is handled by default by HyRec-2 (by N. Lee and Y. Ali-Haimoud, <a href="https://arxiv.org/abs/2007.14114" target="_blank">2007.14114</a>), or optionally by RecfastCLASS (an improved version of RecFast 1.5 with slightly better approximations at early times and no discontinuities). These two codes are located in the <tt>external</tt> directory and called through dedicated wrappers. The new thermodynmics module can handle many more scenarios for heating / energy injection, implemented in an external module <tt>external/heating</tt> called by the thermodynamics module if necessary. For details on new input parameters, see <tt>explanatory.ini</tt>, and for more information on the underlying physics, see the release paper <a href="https://arxiv.org/abs/1910.04619" target="_blank">1910.04619</a>. Either HyRec or Recfast are used to provide differential equations for the ionisation rates only, and in all cases, the system of equations for ionisation and temperature is integrated by CLASS, exactly in the same way (with the same generic functions, the same syntax, the same ODE solvers) as the perturbation equations. By default equations get integrated with the implicit solver <tt>ndf15</tt>. This allows to implement extended cosmologies with stiffer thermodynamical equation, like e.g. in <a href="https://arxiv.org/abs/2010.04074" target="_blank">2010.04074</a>. Finally, default value of N_eff (= <tt>N_ur</tt> in absence of massive neutrinos and extra light relics) changed from 3.046 to 3.0440 (see <a href="https://arxiv.org/abs/2008.01074" target="_blank">2008.01074</a> and <a href="https://arxiv.org/abs/2012.02726" target="_blank">2012.02726</a>). Changes propagated to all input files and to a new non-exhaustive input file <tt>default.ini</tt> that is more user-friendly than the exhaustive <tt>explanatory.ini</tt>.
          <li> v2.10.4: Very minor updates to the perturbation module (just to propagate the changes in the background and thermodynamics ones).
          <li> v2.10.5: Very minor updates to the primordial, nonlinear, transfer, spectra and lensing modules, to propagate the changes in the background and thermodynamics ones. Also, new option to fix a larger k_max in the primordial module than in the perturbation module (optional input parameter <tt>primordial_P_k_max_1/Mpc</tt> or <tt>primordial_P_k_max_h/Mpc</tt>).
          <li> v2.10.6: Entirely new distortion module <tt>distortions.c</tt>, called after the lensing module if necessary. It computes CMB spectral distortions induced both by exotic energy injection mechanisms (called just <tt>injection</tt> with CLASS) or by heating mechanisms inherent to the standard thermal history (called <tt>noninjection</tt>). Uses the Green function method of J. Chluba (see <a href="https://arxiv.org/abs/1304.6120v2" target="_blank">1304.6120</a>), like in <a href="http://www.jb.man.ac.uk/~jchluba/Science/CosmoTherm/Welcome.html" target="_blank">CosmoTherm</a>, and its PCA decomposition (see <a href="https://arxiv.org/abs/1306.5751" target="_blank">1306.5751</a>). The same tabulated Green function are located in <tt>external/distortions</tt> and distributed within the CLASS package with kind permission of J. Chluba. The heating mechanisms responsible for distortions are implemented in the external <tt>injection</tt> and <tt>noninjection</tt> modules located in <tt>external/heating</tt>. For details on all possible input parameters and output, see <tt>explanatory.ini</tt> and the <tt>README</tt> file in the folder <tt>external/distortions</tt>.
          <li> v2.10.7: Updated version of all our examples of python scripts (in <tt>scripts/</tt>) and jupyter notebooks (in <tt>notebooks/</tt>) for compatibility with the new version and with python 3.
          <li> v2.10.8: Updated doxygen documentation (in <tt>doc/</tt>), C++ wrapper (in <tt>cpp/</tt>) and test codes (in <tt>test/</tt>). Added the script <tt>CLASS_rename.py</tt> that renames a few modules / structures / prefixes and transform automatically 2.10.8 into 3.0.0 (see <tt>python CLASS_rename.py --help</tt>).
        </ul>
      </td>
    </tr>
    <tr>
      <td valign=top>v2.9&nbsp;(21.01.2020)</td>
      <td>
        <ul>
          <li> two additional species: dark matter interacting with dark radiation <tt>idm_dr</tt>, and its partner: interacting dark radiation <tt>idr</tt>. Follows the  ETHOS framework described in <a href="https://arxiv.org/abs/1512.05344" target="_blank">1512.05344</a>. As a special case, can also take as input the parameters of the models of <a href="https://arxiv.org/abs/1507.04351" target="_blank">1507.04351</a> (with non-abelian dark matter, dark gluons...). See explanatory.ini for the parametrisation of both cases and <a href="https://arxiv.org/abs/1706.06870" target="_blank">1706.06870</a>, <a href="https://arxiv.org/abs/1907.01496" target="_blank">1907.01496</a> for more details. The new sector includes a tight-coupling approximation and a radiation streaming approximation that are useful for studying dark decoupling, dark acoustic oscillations, etc., without slowing down the code (credits M. Archidiacono, S. Bohr, D.C. Hooper)
          <li> new function <tt>nonlinear_pk_tilt_at_k_and_z()</tt> giving the effective logarithmic slope of the matter power spectrum at any given wavenumber and redhsift; useful in data likelihoods related to large scale structure (credits M. Archidiacono)
          <li> 3.03.2020 (<tt>v2.9.1</tt>): restored better way to interpolate P(k,z) along k like before v2.8; fixed memory leak in <tt>idm_dr</tt> sector (credits D.C. Hooper)
          <li> 25.03.2020 (<tt>v2.9.2</tt>): various bug fixes related to the N-body gauge and <tt>idm_dr</tt> features, to the <tt>p_cb</tt> output, and to the <tt>fld</tt> initial conditions in Newtonian gauge (credits E. Bellini, M. Buen-Abad, A. Hall, S. Heimersheim)
          <li> 10.04.2020 (<tt>v2.9.3</tt>): various bug fixes related to the N-body gauge, to the C++ wrapper, and to the possibility to run without any Cls requested (credits O. Hahn)
          <li> 20.07.2020 (<tt>v2.9.4</tt>): increased default precision of 1D shooting; fixed small details in <tt>Halofit</tt>; improved coding style of <tt>pk_eq</tt> method; removed old test codes; plus minor bug fixes (credits J.L. Bernal, F. Lepori, I. Tutusaus)
        </ul>
      </td>
    </tr>
    <tr>
      <td valign=top>v2.8&nbsp;(22.11.2019)</td>
      <td>
        <ul>
          <li> accurate implementation of HMcode (A. Mead et al. <a href="https://arxiv.org/abs/1602.02154" target="_blank">1602.02154</a>) on top of Halofit. Switch on with non <tt>linear = HMcode</tt>. The default settings are calibrated against DM-only COSMIC EMU simulations (Heitmann et al. <a href="https://arxiv.org/abs/1304.7849" target="_blank">1304.7849</a>). The baryonic feedback can be switched on and customized with the entry <tt>feedback model</tt> described in <tt>explanatory.ini</tt> (credits S. Brieden, M. Archidiacono)
          <li> new entry <tt>Nbody gauge transfer functions</tt> to optionally output the transfer functions of the density and velocity of each species, as well as selected metric perturbations in N-body gauge. Useful for a GR intepretation of N-body simulations, see e.g. <a href="https://arxiv.org/abs/1504.04756" target="_blank">1505.04756</a>, <a href="https://arxiv.org/abs/1610.04236" target="_blank">1610.04236</a> and <a href="https://arxiv.org/abs/1811.00904" target="_blank">1811.00904</a>.
          <li> the code previously defined the time of recombination from the peak of the visibility function. There is another sensible definition: when the Thomson optical depth crosses one. The code now computes everything (redshift, angular distance, sound horizon...) at both times, with a suffix <tt>_rec</tt> for the first definition and <tt>_star</tt> for the second.
          <li> better performance when computing number count Cls, thanks to the re-ordering of some operations (credits S. Schoeneberg, M. Archidiacono). Note that we do not include yet the FFTlog method (<a href="https://arxiv.org/abs/1807.09540" target="_blank">1807.09540</a>) in the master branch, but you can already find it and use it in the separate branch <tt>class_matter</tt> of the public class GitHub repository.
          <li> if <tt>background_verbose</tt> is set to 2 or more, the code writes a new section in the standard output, with more details on all the omega's and Omega's for the model being computed (credits N. Schoeneberg)
          <li> unlike recently claimed by some authors, we re-checked that the baryon sound speed is consistently included in the code. Some PDF notes on this topic will soon be added here.
          <li> something relevant for developers but not for end-users: there was a major internal restructuring of the <tt>nonlinear.c</tt> and <tt>spectra.c</tt> modules, to avoid redundency, be more consistent and improve efficiency. Some functions are deprecated (but not suppressed), and some warnings alert the user when they should switch to newer and better functions. These <a href="text_v28.pdf" target="_blank">technical notes</a> explain the changes, their motivations, and how to get around with them when you merge you own branch forked from <=2.7 with >=2.8.
         <li> better visibility of precision parameters: their definitions, default values and descriptions are now all grouped in a unique file <tt>include/precisions.h</tt> that contains nothing else (credits N. Schoeneberg)
         <li> fixed several minor bugs (credits M. Archidiacono, S. Brieden, N. Schoeneberg, J. Torrado)
         <li> 25.11.2019 (<tt>v2.8.1</tt>): further bug fixes: avoiding random rounding errors, restoring calculation of non-linear corrections for Cls only (thanks to Antony Lewis)
         <li> 3.12.2019 (<tt>v2.8.2</tt>): better handling of classy version number, avoid memory leaks for extreme parameter values (useful especially for nested sampling) (credits Jesus Torrado)
        </ul>
      </td>
    </tr>
    <tr>
      <td valign=top>v2.7&nbsp;(10.09.2018)</td>
      <td>
        <ul>
          <li> includes a new graphical interface showing the evolution of linear perturbations in real space, useful for pedagogical purposes. To run it on a browser, read instructions in <tt>RealSpaceInterface/README</tt> (credits: Max Beutelspacher, Georgios Samaras)
          <li> when running with <tt>ncdm</tt> (non cold dark matter) while asking for the matter power spectrum <tt>mPk</tt>, you will automatically get both the total non-relativistic matter spectrum <em>Pm(k,z)</em> and the baryons-plus-cdm-only (<tt>cb</tt>) spectrum <em>Pcb(k,z)</em>. The latter is useful e.g. for computing the power spectrum of galaxies, which traces <tt>bc</tt> instead of total matter (see e.g. <a href="https://arxiv.org/abs/1311.0866" target="_blank">1311.0866</a>, <a href="https://arxiv.org/abs/1807.04672" target="_blank">1807.04672</a>). From the <tt>classy</tt> wrapper you get the <tt>cb</tt> quantities through several new functions like <tt>pk_cb()</tt>, <tt>get_pk_cb()</tt>, <tt>sigma8_cb()</tt>, etc. (Credits: M. Archidiacono, Samuel Brieden, Nils Sch&ouml;neberg)
          <li>  implementation of the <em>P(k) equal</em> method (see <a href="https://arxiv.org/abs/0810.019" target="_blank">0810.0190</a>, <a href="https://arxiv.org/abs/1601.07230" target="_blank">1601.07230</a>) when using Halofit in combination with a fluid with arbitrary (<tt>w0_fld</tt>, <tt>wa_fld</tt>) parameters. Switch on with entry <tt>pk_eq=yes</tt> (the default is <tt>no</tt>). The method is applied up to a redshift <tt>pk_eq_z_max</tt> set by default to 5 (Credits: M. Archidiacono, S. Clesse)
          <li> includes eleven new illustrative notebooks in <tt>notebooks/</tt>, and their plain python script counterparts in <tt>scripts/</tt> (content documented in the <a href="https://lesgourg.github.io/class-tour/Cambridge/CLASS_Lecture2_Notebooks.pdf" target="_blank">Cambridge</a> or eventually <a href="https://lesgourg.github.io/class-tour/Darmouth.pdf" target="_blank">Darmouth</a> CLASS lectures slides)
          <li> few bug and memory leak fixes
          <li> 22.10.2018 (<tt>v2.7.1</tt>): removed useless <tt>.ini</tt> and <tt>.pre</tt> files; added input files matching Planck baseline model with best fit values (<tt>base_2015_plikHM_TT_lowTEB_lensing.ini</tt>, <tt>base_2018_plikHM_TTTEEE_lowl_lowE_lensing.ini</tt>); in python wrapper, reinitialisation with <tt>struct_cleanup()</tt> now done automatically; several minor bug fixes (credits D.C. Hooper, J. Torrado, N. Sch&ouml;neberg)
           <li> 11.04.2019 (<tt>v2.7.2</tt>): added couple of functions in wrapper (credits J. Torrado, N. Sch&ouml;neberg) for compatibility with LSS likelihoods in <a href="https://cobaya.readthedocs.io/en/latest/" target="_blank">Cobaya v1.1</a>
        </ul>
      </td>
    </tr>
    <tr>
      <td valign=top>v2.6&nbsp;(25.03.2017)</td>
      <td>
        <ul>
          <li> by default, the perturbations of the fluid sector <tt>_fld</tt> (usually employed to play the role of Dark Energy) now follow the PPF approximation instead of real fluid equations, which allows to cross the phantom divide (but user can still switch to true fluid equations, see <tt>use_ppf</tt> parameter in <tt>explanatory.ini</tt>). Our PPF equations afe implemented in both newtonian and synchronous gauge as explained in these <a href="PPF_formalism.pdf" target="_blank">notes</a>. Also, it is now simpler to customise the function w_fld(a) because it appears in only one place in the function <tt>background_w_fld()</tt>.
          <li> compilation and installation scripts made more robust, <tt>classy</tt> wrapper compatible with python 3 if you compile with the option <tt>PYTHON=python3 make all</tt> (credits M. Millea); you can use it in your python sessions, scripts, notebooks, etc.; note however that MontePython is still only compatible with python 2.7 for the moment, and wants a <tt>classy</tt> version compiled with python 2.x.
          <li> more accurate calculation of the scale independent CDM growth factor D(a) - and f(a) - taking into account radiation and dark energy.
          <li> option <tt>extra metric transfer functions</tt> to output the transfer functions of all metric perturbations (credits W. Valkenburg).
          <li> among the reionisation parametrisation options <tt>reio_parametrisation</tt>, added a new scheme <tt>reio_inter</tt> for linear interpolation between discrete values of xe(z). Other schemes (e.g. tanh() steps) are still there.
          <li> 2.07.2017 (<tt>v2.6.1</tt>): few bug fixes (e.g. for P_NL(k) with isocurvature modes); solved memory leak issues in the wrapper.
          <li> 23.10.2017 (<tt>v2.6.2</tt>): minor improvements; the most important is a boost of the Halofit precision: previously, purely numerical random errors in Halofit could spoil your future LSS experiment forecasts; also updated the BBN interpolation table (credits: Ophelia Pisanti), added <tt>sigma8</tt> as a possible input parameter instead of <tt>A_s</tt>, and gave the user the possibility to control manually the quadrature scheme used to discretise the momentum space of NCDM (only relevant for NCDM experts willing to achieve high precision, e.g., with WDM at large k); also, improved compilation script, gave possibility to run with tensors only (e.g. <tt>modes=t, A_s=1, r=1</tt> would mean: tensors only with <tt>A_t=1</tt>), and improved formula for the diffusion damping scale.
          <li> 24.10.2017 (<tt>v2.6.3</tt>): restored compatibility with python 3 (broken in 2.6.2 by small modification of setup.py)
        </ul>
      </td>
    </tr>
    <tr>
      <td valign=top>v2.5&nbsp;(29.03.2016)</td>
      <td>
        <ul>
          <li> automatic documentation generated by doxygen (credits D.C. Hooper). You can browse the <a href="class_public-2.5.1/doc/manual/html/index.html">html documentation</a> online, or view the PDF located in your CLASS folder <tt>doc/manual/</tt>.
          <li> number density count (known as CLASSgal features) generalised to curved space, as described in <a>paper in preparation</a>. Also corrected evolution bias and improved Limber approximation scheme for number counts (credits: Francesco Montanari, Enea Di Dio)
          <li> a few new parameters, like the effective sound/viscosity speed of ultra-relativistic species <tt>ceff2_ur</tt>, <tt>cvis2_ur</tt>
          <li> for many-step reionisation, coded the scheme <tt>reio_many_tanh</tt>, a more sensible scheme than <tt>reio_bins_tanh</tt> (see section 3.c of <tt> explanatory.ini</tt> for details)
          <li> if you want to plot transfer functions at very high redshift (even before recombination), you can now increase <tt>z_pk</tt> or <tt>z_max_pk</tt> up to arbitrary high values, provided that the output contains only non-CMB (non-<tt>tCl,pCl,lCl</tt>) entries.
          <li> new options in inflationary module, like <tt>N_star</tt> or <tt>inflation_behavior = analytical</tt> (see <tt> explanatory.ini</tt> for details)
          <li> several minor bug fixes (credits Sandro Pinto, Francesco Montanari, Guido Pettinari, Aurelien Benoit-Levy and others)
          <li> 10.03.2017 (<tt>v2.5.1</tt>): compatible with python3 (credits M. Millea), fixes for a more robust wrapper installation, new reionisation scheme <tt>'reio_inter'</tt> (see <tt>explanatory.ini</tt> for details)
        </ul>
      </td>
    </tr>

      <td valign=top>v2.4&nbsp;(29.09.2014)</td> <td> <ul> <li> extended
inflation simulator embedded in the primordial module. Option
<tt>'inflation_V'</tt> (input = V(phi) function in observable range)
still exists, but more efficient; two new options
<tt>'inflation_H'</tt> (input = H(phi) function in observable range)
and <tt>'inflation_V_end'</tt> (input = V(phi) trusted until the end
of inflation, and parameters specifying the amount of inflation
between the Hubble crossing for the pivot scale and the end of
inflation). See <tt>explanatory.ini</tt> for details on new input
parameters.  <li> improved accuracy of Limber approximation in curved
space, as explained in Appendix E of <a
href="http://iopscience.iop.org/1475-7516/2014/09/032/pdf/jcap092014032.pdf"
target="_blank">JCAP 09 (2014) 032</a> <li> the python code for plotting
output files, <tt>CPU.py</tt>, has been significantly improved (type
<tt>python CPU.py --help</tt> to check options and input format)
(credits: Benjamin Audren, Jesus Torrado).  <li> the <tt>classy</tt>
wrapper can now output many more quantities than just the CMB Cl's and
P(k): density Cl's (this can be used for Euclid forecast with
detailled modelling of the power spectrum, credits Benjamin Audren),
evolution of background, thermodynamical, perturbation quantities,
density and velocity transfer functions.  <li> expanded automatic
tests, with a detailled explanation in the header of
<tt>python/test_class.py</tt>. It is now easy to combine models, add
new scenarios to test, and systematically compare the implementation
in synchronous and Newtonian gauge.  <li> improvements in the Decay
Dark Matter (<tt>ddm</tt>) sector: choice between more input formats,
fixed error in Newtonian gauge.  <li> increased precision settings for
CMB and P(k) with massive neutrinos or WDM (<tt>ncdm</tt>) in the
Newtonian gauge (thanks to Mathias Garny).  <li> various small bug
fixes (credits Guido Pettinari) and memory leak fixes.
<li> 12.10.2014 (<tt>v2.4.1</tt>): default parameter values updated close
to Planck 2013 best fit
<li> 06.01.2015 (<tt>v2.4.2</tt>): minor improvements, mainly related to the plotting unit <tt>CPU.py</tt>, to the <tt>Makefile</tt> and to the use of the functionality <tt>k_output_values=...</tt> (perturbations are now stored in files for exactly those values, not values close to them)
<li> 10.03.2015 (<tt>v2.4.3</tt>): minor mistakes corrected (lensing potential in curved space, details of <tt>nCl</tt> and DM annihilation calculation, density-lensing correlations between bins), as well as a long-standing rare bug in the integrator
<li> 21.10.2015 (<tt>v2.4.4</tt>): few bugs corrected in thermodynamics and transfer module. One of them, introduced in <tt>2.4.3</tt>, could cause the code to remained stalled (only on some architectures). Another one was problematic only when using HyRec with annihilating Dark Matter. Small revision of the expression and sampling of the jumps in the <tt>reio_bins_tanh</tt> scheme, to make it more robust against interpolation errors
<li> 22.02.2016 (<tt>v2.4.5</tt>): Corrected a few bugs affecting Halofit precision, mainly with with massive nu or decaying DM (Thanks to Carmelita Carbone, Matteo Zennaro, Vivian Poulin)
</ul> </td> </tr> <tr> <td valign=top>v2.3&nbsp;(09.05.2014)</td> <td>
<ul> <li> implemented a new species: decaying cold dark matter
(<tt>dcdm</tt>) and its relativistic decay product (<tt>dr</tt>);
also, background module improved, now ready for adding easily other
cases where one needs to integrate more background quantitites over
time than just the scale factor a(tau).  <li> implemented a new input
parameter: <tt>'100*theta_s'</tt>, the angle of the sound horizon at
decoupling (thanks to S. Plaszczynski); also, input module improved,
now ready for adding easily several input parameters which require a
shooting method (like <tt>'100*theta_s'</tt> or the decaying dark
matter density today <tt>'Omega_dcdmdr'</tt>, another example not
written yet would be <tt>'sigma_8'</tt>) <li> increased precision
settings, consequences mainly for P(k) at large k >> 0.1 h/Mpc (thanks
to Chi-Ting Chiang, Mathias Garny, Aurel Schneider) <li> tensor
calculation sped up, thanks to independent sampling of wavenumber
space for scalars and tensors <li> the <tt>'root'</tt> name preceeding
all output file names is now set by default to the input file name
plus the first available integer number
(e.g. <tt>output/myname00_</tt> the first time,
<tt>output/myname01_</tt> in the next run...); also, improved output
file headers with automatic column numbering <li> classy wrapper
improved (installation compatible with both Python2.6 and 2.7, handles
tensor and isocurvature modes, improved automatic testing with
<tt>nosetests python/test_class.py</tt>, changed the function
<tt>get_current_derived_parameters()</tt> to accept as argument a list
of names) (credits: Benjamin Audren) <li> new MATLAB plotting routine
<tt>plot_CLASS_output.m</tt>, type <tt>help plot_CLASS_output.m</tt>
in MATLAB for usage <li> the other plotting routine, <tt>CPU</tt>, is
in the process of being rewritten. A new file, <tt>CPU.py</tt> is
using matplotlib, and works exactly like the MATLAB routine - but is
so far incomplete (credits: Benjamin Audren) <li> 26.05.2014
(<tt>v2.3.2</tt>): fixed minor bugs and extended functionalities of
CPU.py </ul> </td> </tr> <tr> <td valign=top>v2.2&nbsp;(28.03.2014)</td> <td>
<ul> <li> incorporated massless and massive neutrinos (in the language
of the code, the ultra-relativistic <tt>ur</tt> and non-cold dark
matter <tt>ncdm</tt> species) in the calculation of tensor modes (for
temperature and polarisation) <li> for speed up, included two
approximation schemes for tensors, described in the field <tt>tensor
method</tt> of <tt>explanatory.ini</tt>. By default, when evolving
tensor perturbations, the code will replace massive neutrinos by an
appropriate amount of massless ones. This works very well, especially
for masses below 0.6eV, and even above. The exact calculation
involving the <tt>ncdm</tt> momentum space can always be restored.
</ul> </td> </tr> <tr> <td valign=top>v2.1&nbsp;(07.03.2014)</td> <td>
<ul> <li> the ClassGAL features developped in <a
href="http://arXiv.org/abs/arXiv:1307.1459">JCAP 1311 (2013) 044</a>
(by E. Di Dio, F. Montanari, J. Lesgourgues and R. Durrer) have been
imported into the main distribution of the code. The naive "density
Cl's" are replaced by the "number count Cls", calculated if the
<tt>'output'</tt> entry includes <tt>'nCl'</tt>. The user can choose
to include all relativistic corrections by passing <tt>'number count
contributions = density, rsd, lensing, gr'</tt>, or only the dominant
terms. One can also tune the selection function, linear bias,
magnification bias and evolution effects (see the description of the
fields <tt>'dNdz_selection', 'bias', 's_bias', 'dNdz_evolution'</tt>
in <tt>explanatory.ini</tt> and in the appendix of <a
href="http://arXiv.org/abs/arXiv:1307.1459">JCAP 1311 (2013) 044</a>).
<li> the non-linear module has been completely re-written. In the main
function, the non-linear module is now called before the transfer
module, to allow for the calculation of lensing Cl's, density Cl's and
lensed CMB Cl's including non-linear corrections. The module features
HALOFIT recalibrated by Takahashi et al., extended to massive
neutrinos following the same method as in <a
href="http://arXiv.org/abs/arXiv:1109.4416">arXiv:1109.4416</a> (input
command <tt>'non linear = halofit'</tt> (vredits Simeon Bird). The
one-loop and time renormalisation algorithms of previous versions have
been dropped temporarily, but new methods are now easier to
incorporate, and will be implemented in the future.  <li> new features
for passing or plotting the primordial power spectrum (credits Jesus
Torrado). They are active when the input is set to <tt>'P_k_ini type =
external_Pk'</tt> (instead of the other options <tt>'analytic_Pk',
'inflation_V', 'two scales'</tt>). The user can pass the primordial
spectrum as an input file, or even compute it on-the-fly with an
external code (in whatever language). The input is then the command
line for running that code. This is described briefly in
<tt>explanatory.ini</tt> and extensively in the
<tt>external_Pk/README.md</tt> file delivered with the code. Finally,
for whatever way of computing the primordial spectrum, the user can
output it in a file with the input command <tt>'write primordial'</tt>
described in <tt>explanatory.ini</tt>.  <li> implementation of
perturbed recombination (credits Luc Voruz), based on <a
href="http://arXiv.org/abs/arXiv:0707.2727">arXiv:0707.2727</a> and <a
href="http://arXiv.org/abs/astro-ph/0503196">astro-ph/0503196</a>. A
detailed description of related equations is provided in these <a
href="perturbed_recombination.pdf"
target="_blank">notes</a>. Perturbed recombination can be switched on by
passing <tt>'perturbed recombination = yes'</tt>, as explained in
<tt>explanatory.ini</tt>.  <li> facility for printing perturbations as
a function of time (credits Thomas Tram). In order to physically
understand what you are doing, or produce nice plots in a paper, it is
useful to output the evolution of each perturbation (of matter
components, of the metric, etc.) as a function of time. This feature
is now directly accessible from the input file, by passing a list of
wavenumbers in the field <tt>'k_output_values'</tt> as described in
<tt>explanatory.ini</tt>. Then the corresponding output files will be
written.  <li> compatible with version 2.0 of <a
href="http://montepython.net">Monte Python</a> (credits Benjamin
Audren) <li> improved Python wrapper <tt>classy.pyx</tt> (credits
Benjamin Audren), mainly a change of function names and error
classes. (For developers: a test suite has been written, in
<tt>python/test_class.py</tt>, which necessitates the python "nose"
package. It calls CLASS sequentially on many combinations of models,
and is useful to check that CLASS is still working after having made
modifications.) For details see the new <a
href="https://github.com/lesgourg/class_public/wiki/Python-wrapper"
target="_blank">wiki</a> on the python wrapper and on the python test
function.  <li> 22.03.2013 (<tt>v2.1.2</tt>): corrected a few bugs
introduced in v2.1.0 (most important related to calculation of baryon
drag redshift, credits Francesco Montesano), and updated Halofit with
the revision of Takahashi et al. 2012 extended to massive neutrinos
(credits Simeon Bird) </ul> </td> </tr> <tr> <td valign=top>v2.0&nbsp;(01.10.2013)</td> <td>
<ul> <li> implementation of spatial curvature (credits Thomas
Tram). Curvature is set using the <tt>'Omega_k'</tt> input parameter
(positive for negative curvature, following the usual convention).
<li> the perturbation module relies on the optimal Boltzmann hierarchy
described in <a href="http://arxiv.org/abs/1305.3261">arXiv:1305.3261
[astro-ph.CO]</a>.  <li> the transfer module has exprienced major
changes. For the computation of hyperspherical Bessel functions and
transfer functions, some explanations on the methodology, the
precision, the comparison with other codes are given in <a
href="http://arxiv.org/abs/1312.2697">arXiv:1312.2697</a>. In brief,
with default precision settings, the scalar temperature Cls are
precise at the 0.1% level, and the scalar polarisation Cls at the 0.2%
level. The code remains very fast for small curvature, but the running
time increases with the absolute value of <tt>Omega_k</tt>.  <li> more
accurate for tensor modes, and ready for working with vector modes
(they are already implemented in the transfer module).  <li> spherical
Bessel functions cannot be stored/read from a file anymore, because
the gain in time was too marginal. All Bessel functions are now
computed on-the-fly by a set of new efficient functions, called
directly from the transfer module. Hence, the <tt>bessels</tt> module
and structure have been eliminated.  <li> 09.10.2013
(<tt>v2.0.2</tt>): added the possibility to output the correlation Cls
between density and galaxy lensing; computation of hyperspherical
bessel functions made faster thanks to a vectorisation scheme; fixed a
few bugs; restored the same sign convention for E-modes as CAMB and
CMBFAST, while <tt>v2.0.1</tt> had the opposite convention, taken from
Hu & White.  <li> 31.10.2013 (<tt>v2.0.3</tt>): several little bug
fixes, accuracy of ClTphi and ClEphi restored, thanks to
S. Plaszczynski and G. Pettinari <li> 09.12.2013 (<tt>v2.0.4</tt>):
wavenumber sampling and few approximations improved, to match <a
href="http://arxiv.org/abs/1312.2697">arXiv:1312.2697</a>. New input
field <tt>temperature contributions</tt>, allows to compute separately
the SW, late and early ISW, Doppler and polarisation contributions.
</ul> </td> </tr> <tr> <td valign=top>v1.7&nbsp;(21.03.2013)</td> <td>
<ul> <li> version ready for use with Planck. Three precision
parameters increased to match Planck sensitivity. With new default
settings, Planck chi2 accurate up to approximately 0.5. This has been
proved to be sufficient for parameter extraction from Planck data when
using MCMC algorithms (checked through intensive testing within Planck
collaboration, comparing different codes and various accuracy
settings). Still possible to use higher precision settings when
needed, e.g. for a very precise minimization of Planck chi2, or to
derive frequentist bounds.  <li> compatible with version 1.2 of <a
href="http://montepython.net">Monte Python</a> (credits Benjamin
Audren). This version of the parameter extraction code is interfaced
with the Planck and WMAP9 likelihoods, and features fast nuisance
parameters (similar to the new CosmoMC implementation but simpler:
does the Cholesky parameter rotation, but not the fast-parameter
dragging scheme; this is sufficient for a considerable speed up)
(credits A. Lewis) <li> implements an alternative parameter set for
the primordial spectrum, consisting in amplitudes at two scales
instead of one amplitude and one tilt, identical to the parameters in
the isocurvature section of the Planck inflation paper. See
<tt>explanatory.ini</tt> for all possibilities.  <li> plethora of
derived parameters defined in the python wrapper
<tt>python/classy.pyx</tt>, ready to be used in <a
href="http://montepython.net">Monte Python</a>: slow-roll parameters,
isocurvature fraction defined in different manners, tilt and running
computed numerically at the end of the inflationary module.  <li> for
DM annihilation, new flag to switch on/off the on-the-spot
approximation.  <li> 28.03.2013: restored computation of lensed BB
spectrum, set accidentally to zero in versions 1.6.x and 1.7.0 (but OK
in earlier versions; thanks to Giulio Fabbian for pointing it out)
<li> 04.04.2013: fixed bug introduced in 1.7.0, leading to
segmentation fault in newtonian gauge (thanks to Ivan Duran Sancho for
pointing it out) </ul> </td> </tr> <tr> <td valign=top>v1.6&nbsp;(15.01.2013)</td>
<td><ul> <li> computation of full-sky galaxy lensing potential Cl's,
useful for cosmic shear experiments (if you add <tt>sCl</tt> to the
field <tt>output=...</tt>) <li> for both lensing Cl's (<tt>sCl</tt>)
and density Cl's (<tt>dCl</tt>), source galaxies can be distributed in
redshift bins with either <tt>gaussian</tt>, <tt>tophat</tt> or
<tt>dirac</tt>-like selection functions (see field <tt>selection</tt>
in <tt>explanatory.ini</tt>). Also the <tt>dCl</tt> calculation has
been speeded up and redesigned for more accurate results, even when
the bins are many, and/or thin, and/or at small redhsift.  <li> the
python wrapper <tt>python/classy.pyx</tt> includes more
functionalities, useful for running with the updated version 1.1 of <a
href="http://montepython.net">Monte Python</a> (credits Benjamin
Audren) <li> several bugs fixed (many thanks to Stephane Plaszczynski,
Sophie Henrot-Versille, Alberto Vallinotto, Katarina Markovic, Guido
Pettinari, Matthieu Roman). The major one affected the CMB lensing
potential Cl's, but only occasionally and when running with high
precision settings (with a value of the precision parameter
<tt>perturb_sampling_stepsize</tt> smaller than the default
one). Another bug could occasionally affect the result of the Halofit
routine.  </ul> </td> </tr> <tr> <td valign=top>v1.5&nbsp;(25.10.2012)</td>
<td><ul> <li> changed three defaut values of RECFAST parameters to
match RECFAST v1.5.2 <li> module <tt>primordial</tt> includes an
inflation simulator computing the primordial spectrum fully
numerically, for a given expression of the scalar potential valid
within the observable inflation range (as in <a
href="http://arXiv.org/abs/astro-ph/0703625">Lesgourgues and
Walkenburg (2007)</a>), see <tt>explanatory.ini</tt> for details on
possible input parameters <li> includes several parameters to model
CDM annihilation (in the smooth background and in halos), as in <a
href="http://arXiv.org/abs/arXiv:1209.0247">Gisen et al. (2012)</a>
<li> code can output not only individual density transfer functions,
but also individual velocity transfer functions (if you add
<tt>vTk</tt> to the field <tt>output=...</tt>) <li> python wrapper
<tt>python/classy.pyx</tt> expanded for compatibility with parameter
inference code <a href="http://montepython.net">Monte Python</a> v1.0
<li> corrected bug that showed up when trying to get finely sampled
transfer functions. Sampling can now be arbitrarily fine.  <li>
internal re-ordering of operations in <tt>transfer</tt> modules, that
speeds up the calculation of matter density Cl's. Also, the user can
compute correlation between all shells or only between neighbouring
shells.  </ul> </td> </tr> <tr> <td valign=top>v1.4&nbsp;(13.02.2012)</td>
<td><ul> <li> recombination can be computed either with RECFAST v1.5,
or with the <a href="http://arXiv.org/abs/arXiv:1011.3758">HyRec code
by Y. Ali-Haimoud & C. Hirata</a>. Just set the input parameter
<tt>recombination</tt> to either <tt>RECFAST</tt> or
<tt>HyRec</tt>. HyRec is slower, but more precise and flexible. Both
codes agree at the level of precision of Planck and for standard
cosmology. The November 2011 version of HyRec is distributed together
with v1.4. Class can be compiled without HyRec by leaving <tt>HYREC =
</tt> blank in the Makefile, instead of putting there the path to
HyRec (default: compiled with the distributed version, located in
<tt>class/hyrec/</tt>) (credits Y. Ali-Haimoud and C. Hirata) <li>
user can choose between the same reionization history as in CAMB
(featuring a single step for hydrogen reionization), or a binned
reionization history, with arbitrary bin number, position and width
(similar to implementation in <a
href="http://arXiv.org/abs/astro-ph/0606552">Lewis, Weller and Battye
(2006)</a>). Set input parameter <tt>reionization</tt> to either
<tt>reio_camb</tt> or <tt>reio_bins_tanh</tt>, and see
<tt>explanatory.ini</tt> for more details on input parameters
(<tt>binned_reio_z</tt>, <tt>binned_reio_z</tt>, etc.)  <li> user can
choose to pass a numerical value for the primordial helium fraction
<tt>YHe</tt>, or let it be fixed as a function of omega_b and N_eff by
standard BBN calculations, by setting <tt>YHe</tt> to <tt>BBN</tt> (as
in <a href="http://arXiv.org/abs/arXiv:0712.2826">Hamann, Lesgourgues
and Mangano (2008)</a>) <li> includes latest version of HALOFIT,
working even in presence of massive neutrinos (from <a
href="http://arXiv.org/abs/arXiv:1109.4416">Bird, Viel and Haehnelt
(2011)</a>). Set <tt>non linear</tt> to <tt>HALOFIT</tt> to get the
non-linear P(k) (credits B. Audren and S. Bird) <li> improved
newtonian gauge: <tt>phi</tt> is integrated over time rather than
infered from constraint equation; in that way newtonian gauge
calculations are more accurate than in v1.3, and remain stable even in
presence of isocurvature modes or massive neutrinos (credits Guido
W. Pettinari) <li> user can choose to pass some numerical values for
the tensor tilt and running (<tt>n_t</tt>, <tt>alpha_t</tt>), or let
them be fixed by the two <a
href="http://arXiv.org/abs/arXiv:0912.0522">self-consistency
conditions of single field slow-roll inflation</a>, by setting these
entries to <tt>scc</tt> (see <tt>explanatory.ini</tt> for details)
<li> if <tt>output</tt> includes <tt>dCl</tt>, the code will compute
the Cl spectra of matter density perturbations in an arbitrary number
of redshift bins (defined by gaussian window functions, with arbitrary
centers and widths, fixed through input variables
<tt>selection_mean</tt> and <tt>selection_width</tt>). The output
<tt>..._cl.dat</tt> file will then contain CMB (if requested) plus
density spectra, including all possible cross-correlations. See
<tt>explanatory.ini</tt> for details on input parameters.  <li>
corrected a few bugs previously affecting temperature/polarization
tensor spectra.  <li> python wrapper for class, available in the
<tt>python/</tt> directory (see <tt>python/README</tt>). Used by the
cosmological parameter extraction code that we will release soon
(credits K. Benabed and B. Audren) <li> c++ wrapper for class,
available in the <tt>cpp/</tt> directory (see <tt>cpp/README</tt>)
(credits S. Plaszczynski) </ul> </td> </tr> <tr> <td valign=top>v1.3&nbsp;(08.11.2011)</td>
<td><ul> <li>implementation of the Newtonian / longitudinal gauge
equations on top of the synchronous ones. The user can choose the
gauge by writing e.g. <tt>gauge=newtonian</tt> in the input file (by
default, set to synchronous gauge). The Newtonian gauge calculations
turn out to be essentially as stable, fast and accurate as the
synchronous ones for LambdaCDM. Instabilities may occur when
<tt>ncdm</tt> (= non-cold dark matter, e.g. massive neutrinos) and/or
isocurvature modes are turned on: in those two cases, the code outputs
roughly the right answer (provided that the <tt>tol_ncdm</tt>
precision parameter is decreased by a factor 100), but the convergence
of the spectra in the limit of increased precision parameters is not
obvious.  <li> by default, the component called <tt>fluid</tt> can
have not only an arbitrary sound speed, but also a time-varying
equation of state of the form <tt>w=w0+wa*(1-a/a0)</tt>; a couple of
bugs in this fluid sector have been fixed.  <li> <tt>CPU</tt> (Class
Plotting Utility) upgraded to version 1.3, with an extra option
<tt>-colnum N</tt> useful for plotting polarisation and lensing
potential spectra. More details on <tt>CPU</tt> in the README file.
<li> issue of initial conditions in the power spectrum renormalisation
module <tt>trg.c</tt> fixed according to discussion in <a
href="http://arxiv.org/abs/1106.2607">Audren & Lesgourgues 2011</a>.
</ul> </td> </tr> <tr> <td valign=top>v1.2&nbsp;(13.06.2011)</td>
<td><ul> <li>new <tt>trg.c</tt> module allowing to compute the
non-linear density, velocity and cross density-velocity power spectra
on mildly non-linear scales, using either the dynamical 1-loop method
(fast) or the Time Renormalization Group method (1 hour/number of
CPU); see <a href="http://arxiv.org/abs/1106.2607">Audren &
Lesgourgues 2011</a>.  In the input file, you just need to set <tt>non
linear=one-loop</tt> or <tt>non linear=trg</tt>.  So far, this module
works only for LambdaCDM with no non-cold relics or dark energy.
<li>fast mode for CMB lensed spectra calculation. Speeds up the code
significantly. For very accurate calculations, you can still tune the
precision parameter <tt>accurate_lensing</tt> and use the previous
method. Credits: Simon Prunet.  <li>in input file, user can choose the
format of output files: <tt>format=class</tt> for CLASS format (as in
previous versions), <tt>format=camb</tt> for camb-like format
(compatible with Healpix, etc.). Also, all output file headers can be
omitted with <tt>headers=no</tt>.  <li>convenient python module named
<tt>CPU</tt> for plotting CLASS output spectra. Can plot one or
several spectra, or the relative difference between two spectra (even
when they are sampled with different values, as it is usually the case
for P(k)'s). Works for C_l^TT and P(k). Detects the type of output
file and infers axes and labels. See the various options by typing
<tt>python CPU --help</tt> or <tt>python CPU -h</tt>. Typical usage:
<tt>python CPU output/myspectrum.dat</tt> for a single spectrum. For
using CPU you need to have on your machine a recent version of python
and scientific python (scipy), as well as gnuplot.  <li>new precision
file <tt>chi2pl10.pre</tt> for even faster (but less accurate) CMB
calculation than with default settings.  <li>bug in dark energy fluid
equations fixed on 16.06.11, thanks to Vid Irsic for pointing it out.
</ul> </td> </tr> <tr> <td valign=top>v1.1&nbsp;(16.05.2011)</td>
<td><ul> <li>slightly modified definition of three trigger parameters
controlling UFA and RSA approximations (refer to tau instead of
tau_h). Changed precision files accordingly.  <li>corrected bug
previously leading to segmentation fault when computing lensed
temperature but not polarisation </ul> </td> </tr> <tr> <td
valign=top>v1.0&nbsp;(16.04.2011)</td>
<td><ul> <li>first public version </ul> </td> </tr> </table> <hr
color=#d2b48c> <h2><a name="contact">Support</a></h2> Please report
bugs, ask questions and send comments/suggestions through the GitHub
website <a href="https://github.com/lesgourg/class_public"
target="_blank">class_public</a>. Go to that page, click
<tt>issue</tt> and then <tt>New issue</tt>. Then write your text and
press <tt>Submit new issue</tt>. Your text will automatically be sent
by e-mail to the class developpers, and they will answer you as soon
as possible.  <br> If your question is related to the MontePython
code, you should do the same but on the <a
href="https://github.com/brinckmann/montepython_public"
target="_blank">montepython_public</a> page.  <hr color=#d2b48c> </td>
<td width=30> </td> </table>

<h5>Webmaster Julien Lesgourgues; thanks to Diego Blas for aesthetic advices.</hr>
<h5>Last update on the 27.08.2025</h5>
</body>
</html>
